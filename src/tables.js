/*
 * Sample offset into the window indicating the beginning of a scalefactor
 * window band
 *
 * scalefactor window band - term for scalefactor bands within a window,
 * given in Table 4.110 to Table 4.128.
 *
 * scalefactor band - a set of spectral coefficients which are scaled by one
 * scalefactor. In case of EIGHT_SHORT_SEQUENCE and grouping a scalefactor band
 * may contain several scalefactor window bands of corresponding frequency. For
 * all other window_sequences scalefactor bands and scalefactor window bands are
 * identical.
 *
 */

const SWB_OFFSET_1024_96 = new Uint16Array([
      0,   4,   8,  12,  16,  20,  24,  28,
     32,  36,  40,  44,  48,  52,  56,  64,
     72,  80,  88,  96, 108, 120, 132, 144,
    156, 172, 188, 212, 240, 276, 320, 384,
    448, 512, 576, 640, 704, 768, 832, 896,
    960, 1024
]);

const SWB_OFFSET_128_96 = new Uint16Array([
    0, 4, 8, 12, 16, 20, 24, 32, 40, 48, 64, 92, 128
]);

const SWB_OFFSET_1024_64 = new Uint16Array([
      0,   4,   8,  12,  16,  20,  24,  28,
     32,  36,  40,  44,  48,  52,  56,  64,
     72,  80,  88, 100, 112, 124, 140, 156,
    172, 192, 216, 240, 268, 304, 344, 384,
    424, 464, 504, 544, 584, 624, 664, 704,
    744, 784, 824, 864, 904, 944, 984, 1024
]);

const SWB_OFFSET_128_64 = new Uint16Array([
    0, 4, 8, 12, 16, 20, 24, 32, 40, 48, 64, 92, 128
]);

const SWB_OFFSET_1024_48 = new Uint16Array([
      0,   4,   8,  12,  16,  20,  24,  28,
     32,  36,  40,  48,  56,  64,  72,  80,
     88,  96, 108, 120, 132, 144, 160, 176,
    196, 216, 240, 264, 292, 320, 352, 384,
    416, 448, 480, 512, 544, 576, 608, 640,
    672, 704, 736, 768, 800, 832, 864, 896,
    928, 1024
]);

const SWB_OFFSET_128_48 = new Uint16Array([
     0,   4,   8,  12,  16,  20,  28,  36,
    44,  56,  68,  80,  96, 112, 128
]);

const SWB_OFFSET_1024_32 = new Uint16Array([
      0,   4,   8,  12,  16,  20,  24,  28,
     32,  36,  40,  48,  56,  64,  72,  80,
     88,  96, 108, 120, 132, 144, 160, 176,
    196, 216, 240, 264, 292, 320, 352, 384,
    416, 448, 480, 512, 544, 576, 608, 640,
    672, 704, 736, 768, 800, 832, 864, 896,
    928, 960, 992, 1024
]);

const SWB_OFFSET_1024_24 = new Uint16Array([
      0,   4,   8,  12,  16,  20,  24,  28,
     32,  36,  40,  44,  52,  60,  68,  76,
     84,  92, 100, 108, 116, 124, 136, 148,
    160, 172, 188, 204, 220, 240, 260, 284,
    308, 336, 364, 396, 432, 468, 508, 552,
    600, 652, 704, 768, 832, 896, 960, 1024
]);

const SWB_OFFSET_128_24 = new Uint16Array([
     0,   4,   8,  12,  16,  20,  24,  28,
    36,  44,  52,  64,  76,  92, 108, 128
]);

const SWB_OFFSET_1024_16 = new Uint16Array([
      0,   8,  16,  24,  32,  40,  48,  56,
     64,  72,  80,  88, 100, 112, 124, 136,
    148, 160, 172, 184, 196, 212, 228, 244,
    260, 280, 300, 320, 344, 368, 396, 424,
    456, 492, 532, 572, 616, 664, 716, 772,
    832, 896, 960, 1024
]);

const SWB_OFFSET_128_16 = new Uint16Array([
     0,   4,   8,  12,  16,  20,  24,  28,
    32,  40,  48,  60,  72,  88, 108, 128
]);

const SWB_OFFSET_1024_8 = new Uint16Array([
      0,  12,  24,  36,  48,  60,  72,  84,
     96, 108, 120, 132, 144, 156, 172, 188,
    204, 220, 236, 252, 268, 288, 308, 328,
    348, 372, 396, 420, 448, 476, 508, 544,
    580, 620, 664, 712, 764, 820, 880, 944,
    1024
]);

const SWB_OFFSET_128_8 = new Uint16Array([
     0,   4,   8,  12,  16,  20,  24,  28,
    36,  44,  52,  60,  72,  88, 108, 128
]);

const SWB_OFFSET_1024 = [
    SWB_OFFSET_1024_96,
    SWB_OFFSET_1024_96,
    SWB_OFFSET_1024_64,
    SWB_OFFSET_1024_48,
    SWB_OFFSET_1024_48,
    SWB_OFFSET_1024_32,
    SWB_OFFSET_1024_24,
    SWB_OFFSET_1024_24,
    SWB_OFFSET_1024_16,
    SWB_OFFSET_1024_16,
    SWB_OFFSET_1024_16,
    SWB_OFFSET_1024_8
];

const SWB_OFFSET_128 = [
    SWB_OFFSET_128_96,
    SWB_OFFSET_128_96,
    SWB_OFFSET_128_64,
    SWB_OFFSET_128_48,
    SWB_OFFSET_128_48,
    SWB_OFFSET_128_48,
    SWB_OFFSET_128_24,
    SWB_OFFSET_128_24,
    SWB_OFFSET_128_16,
    SWB_OFFSET_128_16,
    SWB_OFFSET_128_16,
    SWB_OFFSET_128_8
];

const SWB_SHORT_WINDOW_COUNT = new Uint8Array([
    12, 12, 12, 14, 14, 14, 15, 15, 15, 15, 15, 15
]);

const SWB_LONG_WINDOW_COUNT = new Uint8Array([
    41, 41, 47, 49, 49, 51, 47, 47, 43, 43, 43, 40
]);

/*
 * Scalefactor lookup table
 */
const SCALEFACTOR_TABLE = new Float32Array([
    8.881784E-16, 1.0562281E-15, 1.2560739E-15,
    1.4937321E-15, 1.7763568E-15, 2.1124561E-15,
    2.5121479E-15, 2.9874642E-15, 3.5527137E-15, 4.2249122E-15, 5.0242958E-15,
    5.9749285E-15, 7.1054274E-15, 8.4498245E-15, 1.00485916E-14, 1.1949857E-14,
    1.4210855E-14, 1.6899649E-14, 2.0097183E-14, 2.3899714E-14, 2.842171E-14,
    3.3799298E-14, 4.0194366E-14, 4.7799428E-14, 5.684342E-14, 6.7598596E-14,
    8.038873E-14, 9.5598856E-14, 1.1368684E-13, 1.3519719E-13, 1.6077747E-13,
    1.9119771E-13, 2.2737368E-13, 2.7039438E-13, 3.2155493E-13, 3.8239542E-13,
    4.5474735E-13, 5.4078877E-13, 6.4310986E-13, 7.6479085E-13, 9.094947E-13,
    1.0815775E-12, 1.2862197E-12, 1.5295817E-12, 1.8189894E-12, 2.163155E-12,
    2.5724394E-12, 3.0591634E-12, 3.6379788E-12, 4.32631E-12, 5.144879E-12,
    6.1183268E-12, 7.2759576E-12, 8.65262E-12, 1.0289758E-11, 1.22366535E-11,
    1.4551915E-11, 1.730524E-11, 2.0579516E-11, 2.4473307E-11, 2.910383E-11,
    3.461048E-11, 4.115903E-11, 4.8946614E-11, 5.820766E-11, 6.922096E-11,
    8.231806E-11, 9.789323E-11, 1.1641532E-10, 1.3844192E-10, 1.6463612E-10,
    1.9578646E-10, 2.3283064E-10, 2.7688385E-10, 3.2927225E-10, 3.915729E-10,
    4.656613E-10, 5.537677E-10, 6.585445E-10, 7.831458E-10, 9.313226E-10,
    1.1075354E-9, 1.317089E-9, 1.5662917E-9, 1.8626451E-9, 2.2150708E-9,
    2.634178E-9, 3.1325833E-9, 3.7252903E-9, 4.4301416E-9, 5.268356E-9,
    6.2651666E-9, 7.4505806E-9, 8.860283E-9, 1.0536712E-8, 1.2530333E-8,
    1.4901161E-8, 1.7720566E-8, 2.1073424E-8, 2.5060666E-8, 2.9802322E-8,
    3.5441133E-8, 4.2146848E-8, 5.0121333E-8, 5.9604645E-8, 7.0882265E-8,
    8.4293696E-8, 1.00242666E-7, 1.1920929E-7, 1.4176453E-7, 1.6858739E-7,
    2.0048533E-7, 2.3841858E-7, 2.8352906E-7, 3.3717478E-7, 4.0097066E-7,
    4.7683716E-7, 5.670581E-7, 6.7434956E-7, 8.019413E-7, 9.536743E-7,
    1.1341162E-6, 1.3486991E-6, 1.6038827E-6, 1.9073486E-6, 2.2682325E-6,
    2.6973983E-6, 3.2077653E-6, 3.8146973E-6, 4.536465E-6, 5.3947965E-6,
    6.4155306E-6, 7.6293945E-6, 9.07293E-6, 1.0789593E-5, 1.2831061E-5,
    1.5258789E-5, 1.814586E-5, 2.1579186E-5, 2.5662122E-5, 3.0517578E-5,
    3.629172E-5, 4.3158372E-5, 5.1324245E-5, 6.1035156E-5, 7.258344E-5,
    8.6316744E-5, 1.0264849E-4, 1.2207031E-4, 1.4516688E-4, 1.7263349E-4,
    2.0529698E-4, 2.4414062E-4, 2.9033376E-4, 3.4526698E-4, 4.1059396E-4,
    4.8828125E-4, 5.806675E-4, 6.9053395E-4, 8.211879E-4, 9.765625E-4,
    0.001161335, 0.0013810679, 0.0016423758, 0.001953125, 0.00232267,
    0.0027621358, 0.0032847517, 0.00390625, 0.00464534, 0.0055242716,
    0.0065695033, 0.0078125, 0.00929068, 0.011048543, 0.013139007,
    0.015625, 0.01858136, 0.022097087, 0.026278013, 0.03125,
    0.03716272, 0.044194173, 0.052556027, 0.0625, 0.07432544,
    0.088388346, 0.10511205, 0.125, 0.14865088, 0.17677669,
    0.2102241, 0.25, 0.29730177, 0.35355338, 0.4204482,
    0.5, 0.59460354, 0.70710677, 0.8408964, 1.0,
    1.1892071, 1.4142135, 1.6817929, 2.0, 2.3784142,
    2.828427, 3.3635857, 4.0, 4.7568283, 5.656854,
    6.7271714, 8.0, 9.513657, 11.313708, 13.454343,
    16.0, 19.027313, 22.627417, 26.908686, 32.0,
    38.054626, 45.254833, 53.81737, 64.0, 76.10925,
    90.50967, 107.63474, 128.0, 152.2185, 181.01933,
    215.26949, 256.0, 304.437, 362.03867, 430.53897,
    512.0, 608.874, 724.07733, 861.07794, 1024.0,
    1217.748, 1448.1547, 1722.1559, 2048.0, 2435.496,
    2896.3093, 3444.3118, 4096.0, 4870.992, 5792.6187,
    6888.6235, 8192.0, 9741.984, 11585.237, 13777.247,
    16384.0, 19483.969, 23170.475, 27554.494, 32768.0,
    38967.938, 46340.95, 55108.99, 65536.0, 77935.875,
    92681.9, 110217.98, 131072.0, 155871.75, 185363.8,
    220435.95, 262144.0, 311743.5, 370727.6, 440871.9,
    524288.0, 623487.0, 741455.2, 881743.8, 1048576.0,
    1246974.0, 1482910.4, 1763487.6, 2097152.0, 2493948.0,
    2965820.8, 3526975.2, 4194304.0, 4987896.0, 5931641.5,
    7053950.5, 8388608.0, 9975792.0, 1.1863283E7, 1.4107901E7,
    1.6777216E7, 1.9951584E7, 2.3726566E7, 2.8215802E7, 3.3554432E7,
    3.9903168E7, 4.7453132E7, 5.6431604E7, 6.7108864E7, 7.9806336E7,
    9.4906264E7, 1.12863208E8, 1.34217728E8, 1.59612672E8, 1.89812528E8,
    2.25726416E8, 2.68435456E8, 3.19225344E8, 3.79625056E8, 4.51452832E8,
    5.3687091E8, 6.3845069E8, 7.5925011E8, 9.0290566E8, 1.07374182E9,
    1.27690138E9, 1.51850022E9, 1.80581133E9, 2.14748365E9, 2.55380275E9,
    3.03700045E9, 3.61162266E9, 4.2949673E9, 5.1076055E9, 6.0740009E9,
    7.2232453E9, 8.5899346E9, 1.0215211E10, 1.21480018E10, 1.44464906E10,
    1.71798692E10, 2.0430422E10, 2.42960036E10, 2.88929812E10, 3.4359738E10,
    4.0860844E10, 4.8592007E10, 5.7785962E10, 6.8719477E10, 8.1721688E10,
    9.7184014E10, 1.15571925E11, 1.37438953E11, 1.63443376E11, 1.94368029E11,
    2.3114385E11, 2.74877907E11, 3.26886752E11, 3.88736057E11, 4.622877E11,
    5.4975581E11, 6.537735E11, 7.7747211E11, 9.245754E11, 1.09951163E12,
    1.30754701E12, 1.55494423E12, 1.8491508E12, 2.19902326E12, 2.61509402E12,
    3.10988846E12, 3.6983016E12, 4.3980465E12, 5.230188E12, 6.2197769E12,
    7.3966032E12, 8.796093E12, 1.04603761E13, 1.24395538E13, 1.47932064E13,
    1.7592186E13, 2.09207521E13, 2.48791077E13, 2.95864128E13, 3.5184372E13,
    4.1841504E13, 4.9758215E13, 5.9172826E13, 7.0368744E13, 8.3683009E13,
    9.9516431E13, 1.18345651E14, 1.40737488E14, 1.67366017E14, 1.99032861E14,
    2.36691302E14, 2.81474977E14, 3.34732034E14, 3.98065723E14, 4.73382605E14,
    5.6294995E14, 6.6946407E14, 7.9613145E14, 9.4676521E14, 1.12589991E15,
    1.33892814E15, 1.59226289E15, 1.89353042E15, 2.25179981E15, 2.67785627E15,
    3.18452578E15, 3.78706084E15, 4.5035996E15, 5.3557125E15, 6.3690516E15,
    7.5741217E15, 9.0071993E15, 1.07114251E16, 1.27381031E16, 1.51482434E16,
    1.80143985E16, 2.14228502E16, 2.54762063E16, 3.02964867E16, 3.6028797E16,
    4.28457E16, 5.0952413E16, 6.0592973E16, 7.2057594E16, 8.5691401E16,
    1.01904825E17, 1.21185947E17
]);